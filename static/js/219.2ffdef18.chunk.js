"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[219],{219:(e,t,a)=>{a.r(t),a.d(t,{default:()=>u});var s=a(791),r=a(87),n=a(84),c=a(184);const o=e=>{let{handleSearch:t}=e;const[a,r]=(0,s.useState)("");return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t(a),r("")},children:[(0,c.jsx)("button",{type:"submit",children:"Search"}),(0,c.jsx)("input",{type:"text",placeholder:"Search movie",name:"query",value:a,onChange:e=>{e.preventDefault(),r(e.target.value.toLowerCase())}})]})})};var i=a(961);const l=e=>{let{movies:t,search:a}=e;return(0,c.jsx)("ul",{children:t.map((e=>{let{id:t,title:s,overview:r,poster_path:n}=e;return(0,c.jsx)("li",{children:(0,c.jsxs)(i.F,{to:"/movies/".concat(t),state:{from:"/movies?".concat(a)},children:[(0,c.jsx)("h2",{children:s}),(0,c.jsx)("img",{height:100,src:n?"https://image.tmdb.org/t/p/w500/".concat(n):"https://i.imgur.com/jtwlswk.png",alt:r})]})},t)}))})},u=()=>{const[e,t]=(0,r.lr)(),[a,i]=(0,s.useState)([]),[u,h]=(0,s.useState)(!1),[d,m]=(0,s.useState)(null);(0,s.useEffect)((()=>{const t=e.toString();if(t){h(!0),m(null);const e=async()=>{try{const{results:e}=await(0,n.z1)(t);i(e)}catch(d){m(d.message)}finally{h(!1)}};e()}}),[e,m,h]);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(o,{handleSearch:e=>{e&&t("query=".concat(e))}}),u?(0,c.jsx)("p",{children:"Loading..."}):d?(0,c.jsx)("p",{children:d}):a.length>0&&(0,c.jsx)(l,{movies:a,search:e})]})}},84:(e,t,a)=>{a.d(t,{Hg:()=>r,TP:()=>c,tx:()=>i,z1:()=>n,zv:()=>o});var s=a(294);s.Z.defaults.baseURL="https://api.themoviedb.org/3/",s.Z.defaults.params={api_key:"5353ffa6d3e8c52fad3e3fb7502c3b42"};const r=async()=>{const{data:e}=await s.Z.get("/trending/movie/day");return e.results},n=async e=>{const{data:t}=await s.Z.get("search/movie?".concat(e));return t},c=async e=>{const{data:t}=await s.Z.get("movie/".concat(e));return t},o=async e=>{const{data:t}=await s.Z.get("movie/".concat(e,"/credits"));return t},i=async e=>{const{data:t}=await s.Z.get("movie/".concat(e,"/reviews"));return t}}}]);
//# sourceMappingURL=219.2ffdef18.chunk.js.map